//AUTOGENERATED CODE DO NOT EDIT
// This file is automatically generated from /internal/codegen/templates/dao.tmpl
package db

import (
    "context"
    "github.com/sheacloud/cloud-inventory/pkg/meta"
{{range $index, $element := .Services}}	"github.com/sheacloud/cloud-inventory/pkg/aws/{{$element.Name}}"
{{end}}
)

type WriterDAO interface {
    WriteInventoryResults(ctx context.Context, metadata *meta.InventoryResults) error
    WriteIngestionTimestamp(ctx context.Context, metadata *meta.IngestionTimestamp) error
    FinishIndex(ctx context.Context, indices []string, reportDateUnixMilli int64) error
    Finish(ctx context.Context) error
{{range $serviceIndex, $serviceElement := .Services}}{{range $resourceIndex, $resourceElement := $serviceElement.Resources}}    PutAws{{$serviceElement.ServiceCapName}}{{$resourceElement.ObjectPluralName}}(ctx context.Context, resources []*{{$serviceElement.Name}}.{{$resourceElement.ObjectSingularName}}) error
{{end}}{{end}}
}

type ReaderDAO interface {
{{range $serviceIndex, $serviceElement := .Services}}{{range $resourceIndex, $resourceElement := $serviceElement.Resources}}    ListAws{{$serviceElement.ServiceCapName}}{{$resourceElement.ObjectPluralName}}(ctx context.Context, reportTimeUnixMilli int64, accountID, region *string, limit, offset *int64) ([]*{{$serviceElement.Name}}.{{$resourceElement.ObjectSingularName}}, error)
    GetAws{{$serviceElement.ServiceCapName}}{{$resourceElement.ObjectSingularName}}(ctx context.Context, reportTimeUnixMilli int64, id string) (*{{$serviceElement.Name}}.{{$resourceElement.ObjectSingularName}}, error)
    GetAws{{$serviceElement.ServiceCapName}}{{$resourceElement.ObjectSingularName}}ReportTimes(ctx context.Context, reportDateUnixMilli int64) ([]int64, error)
    GetReferencedAws{{$serviceElement.ServiceCapName}}{{$resourceElement.ObjectSingularName}}ReportTime(ctx context.Context, reportDateUnixMilli int64, timeSelection TimeSelection, timeReferenceUnixMilli int64) (*int64, error)
{{end}}{{end}}
}